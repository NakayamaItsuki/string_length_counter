<head>
    <title>オート文字列カウンター</title>
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    <style>
        body {
            text-align: center; /* テキストを中央揃え */
        }
        #text_area {
            font-size: 20px;
            width: 600px;
            height: 400px;
            padding: 10px;
            margin: 0 auto; /* テキストエリアを中央に配置 */
        }
        #line_count_display, #length_display, #length_display_no_spaces {
            font-size: 24px;
            margin: 10px 0; /* 上下の余白 */
        }
    </style>
</head>
<body>
    <py-script>
        from js import document

        def update_counts():
            text_input = document.getElementById('text_area').value
            lines = text_input.split("\n")
            line_count = len(lines)
            length_with_spaces = len(text_input.replace("\n", ""))
            length_without_spaces = len(text_input.replace(" ", "").replace("\n", ""))
            document.getElementById('line_count_display').innerText =       f"行数　　　　　　　　　： {line_count}"
            document.getElementById('length_display').innerText =           f"文字数（空白含む）　　： {length_with_spaces}"
            document.getElementById('length_display_no_spaces').innerText = f"文字数（空白含まない）： {length_without_spaces}"
    </py-script>

    <textarea id="text_area" py-input="update_counts()" py-change="update_counts()"></textarea>
    <p id="length_display">文字数（空白含む）　　： 0</p>
    <p id="length_display_no_spaces">文字数（空白含まない）： 0</p>
    <p id="line_count_display">行数　　　　　　　　　：  0</p>
</body>
